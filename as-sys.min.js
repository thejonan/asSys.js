!function(){var t=function(t){for(var e,n,o,r={},i=1,f=arguments.length;i<f;++i){e=arguments[i],o=Object.keys(e);for(var c=0,p=o.length;c<p;++c)n=o[c],r[n]=!t||e[n]}return r},e=function(t,n,o,r){if(!t&&!n&&"function"==typeof Object.assign){for(;null==r[o];++o);return Object.assign.apply(Object,0==o?r:Array.prototype.slice.call(r,o))}for(var i,f,c,p=r[o],l=r.length;++o<l;)if(f=r[o],null!=p){i=Object.keys(f),a=i.length;for(var u=0,a=i.length;u<a;++u)c=i[u],n&&p.hasOwnProperty(c)||(p[c]=t&&"object"==typeof f[c]?e(t,n,0,["object"==typeof p[c]?p[c]:{},f[c]]):f[c])}else p=f;return p},n=function(t,e,n){for(var o,r,i=e,f=t.length;i<f;++i)for(o=t[i],r=i+1;r<f;++r)if(!n(o,t[r]))return!1;return!0},o=function(t){if("function"!=typeof t)return null;if(void 0!==t.name)return t.name;var e=t.toString().match(/function ([^\(]+)/);return null!=e?e[1]:""},r=function(){for(var t,n,i,f,c=function(){},p={},l=[],u=Array.prototype.slice.call(arguments,0),a=0;a<u.length;++a)if(f=u[a],"function"==typeof f&&void 0!==f.prototype){if(i=o(f),void 0!==p[i])continue;if(null!=f.prototype.__expects){t=[a,0];for(var y,s=0,v=f.prototype.__expects.length;s<v;++s)y=f.prototype.__expects[s],u.indexOf(y)==-1&&t.push(y);if(t.length>2){Array.prototype.splice.apply(u,t),--a;continue}}p[i]=f,void 0===c.prototype?c.prototype=Object.create(f.prototype):e(!0,!1,0,[c.prototype,f.prototype])}else l.push(f);return Object.defineProperties(c.prototype,{__skills:{enumerable:!1,writable:!1,value:p}}),n=new c,l.length>0&&(l.unshift(n),r.init.apply(this,l)),n};r.version="0.9.0",r.init=function(t){var e=Array.prototype.slice.call(arguments,1);return void 0===t.__skills?t.constructor.apply(t,e)||t:(r.each(t.__skills,function(n){n.apply(t,e)}),t)},r.equal=function(e){var o=e,i=0;return"boolean"!=typeof o?o=!1:i=1,n(arguments,i,function(e,n){for(var i in t(!1,e,n)){if(o&&"object"==typeof e[i]&&"object"==typeof n[i]&&!r.equal(o,e[i],n[i]))return!1;if(e[i]!==n[i])return!1}return!0})},r.similar=function(t){var e=t,o=0;return"boolean"!=typeof e?e=!1:o=1,n(arguments,o,function(t,n){for(var o in t){if(e&&"object"==typeof t[o]&&"object"==typeof n[o]&&!r.similar(e,t[o],n[o]))return!1;if(void 0!==n[o]&&t[o]!=n[o])return!1}return!0})},r.match=function(t,e){return"object"==typeof t&&"object"==typeof e?r.similar(t,e):t instanceof RegExp&&"string"==typeof e?null!=e.match(t):e instanceof RegExp&&"string"==typeof t?null!=t.match(e):t==e},r.extend=function(t){var n=t,o=0;return"boolean"!=typeof n?n=!1:o=1,e(n,!1,o,arguments)},r.mixin=function(t){var n=t,o=0;return"boolean"!=typeof n?n=!1:o=1,e(n,!0,o,arguments)},r.filter=function(t,e){if("function"==typeof t.filter)return t.filter(e);for(var n,o={},r=Object.keys(t),i=0,f=r.length;i<f;++i)n=r[i],e(n,t)&&(o[n]=t[n]);return o},r.each=function(t,e){if("function"==typeof t.forEach)t.forEach(e);else for(var n,o=Object.keys(t),r=0,i=o.length;r<i;++r)n=o[r],e(t[n],n,t)},r.weight=function(t){return"object"!=typeof t?1:t.hasOwnProperty("length")&&"number"==typeof t.length?t.length:Object.keys(t).length},r.id=function(t){return"function"==typeof t?o(t):t.toString()},r.mimic=function(t){var e=Object.create(Object.getPrototypeOf(t));return t.constructor.apply(e,Array.prototype.slice(arguments,1))||e},r.act=function(t,e){if(null!=t&&"function"==typeof e)return e.apply(t,Array.prototype.slice.call(arguments,2))},r.broadcast=function(t,e){var n=Array.prototype.slice.call(arguments,2);return r.each(t.__skills,function(o){o.prototype[e].apply(t,n)}),t},r.can=function(t,e){return"object"==typeof t&&null!=t[e]&&"function"==typeof t[e]},r.aware=function(t,e){return"object"==typeof t&&void 0!==t[e]},r.capable=function(t,e){var n,r=e,i=1;"boolean"!=typeof r?r=!0:i=2;for(var f=0,c=i,p=arguments.length;i<p;++i)n=arguments[i],void 0!==t.__skills&&void 0!==t.__skills[o(n)]?++f:t instanceof n&&++f;return f>0&&(!r||arguments.length-c==f)},r.group=function(n,o,r){"boolean"!=typeof o&&(r=o,o=!1);var i,f=this.mimic(n),c={};for(var p in n){var i=n[p];r.call(i,i,p,n)&&(o&&e(!1,!1,0,[c,t(!0,Object.getPrototypeOf(i))]),f.push(i))}if(o){for(var l,u=Object.keys(c),a={},y=0,s=u.length;y<s;++y)l=u[y],a[l]={enumerable:!1,writable:!1,value:"function"!=typeof c[l]?c[l]:function(t){return function(){var e=void 0;for(var n in this){var o=this[n];"function"==typeof o[t]&&(e=o[t].apply(o,arguments))}return e}}(l)};Object.defineProperties(f,a)}return f},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=r:(this.asSys=this.a$=r,"function"==typeof define&&define.amd&&define(r))}();