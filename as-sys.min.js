!function(){var t=function(t){for(var e,n,o={},r=t,i=arguments.length;r<i;++r){e=arguments[r],n=Object.keys(e);for(var f=0,c=n.length;f<c;++f)o[n[f]]=!0}return o},e=function(t,e,n,r){if(!t&&!e&&"function"==typeof Object.assign){for(;null==r[n];++n);return Object.assign.apply(Object,0==n?r:Array.prototype.slice.call(r,n))}for(var i=r[n],f=r.length,c=function(n,r){if(null!=r){if(null==n)return void(n=r);for(var i in r)n[i]!==r[i]&&null!=r[i]&&(n.hasOwnProperty(i)&&e||(t&&"object"==typeof r[i]?(n.hasOwnProperty(i)||(n[i]=o.mimic(r[i])),c(n[i],r[i])):n[i]=r[i]))}};++n<f;)c(i,r[n]);return i},n=function(t,e,n){for(var o,r,i=e,f=t.length;i<f;++i)for(o=t[i],r=i+1;r<f;++r)if(n(o,t[r])===!1)return!1;return!0},o=function(){for(var t,n,r=[],i=Array.prototype.slice.call(arguments,0),f=function(){var t=this,e=arguments;o.each(t.__skills,function(n){n.apply(t,e)})},c=0;c<i.length;++c)if(n=i[c],"function"==typeof n&&void 0!==n.prototype){if(r.indexOf(n)>-1)continue;if(null!=n.prototype.__expects){t=[c,0];for(var p,u=0,a=n.prototype.__expects.length;u<a;++u)p=n.prototype.__expects[u],i.indexOf(p)==-1&&t.push(p);if(t.length>2){Array.prototype.splice.apply(i,t),--c;continue}}r.push(n),void 0===f.prototype?f.prototype=Object.create(n.prototype):e(!0,!1,0,[f.prototype,n.prototype])}return Object.defineProperties(f.prototype,{__skills:{enumerable:!1,writable:!1,value:r}}),f};o.version="0.9.0",o.equal=function(e){var o=e,r=0,i=function(e,n,r){if("object"!=typeof e||"object"!=typeof n)return e===n;if(r!==!1){for(var f in t(0,e,n))if(!i(e[f],n[f],o))return!1;return!0}};return"boolean"!=typeof o?o=!1:r=1,n(arguments,r,i)},o.similar=function(t){var e=t,o=0;return match=function(t,n,o){if(t instanceof RegExp&&"string"==typeof n)return null!=n.match(t);if(n instanceof RegExp&&"string"==typeof t)return null!=t.match(n);if("object"!=typeof t||"object"!=typeof n)return t==n;if(o!==!1){for(var r in t)if(void 0!==n[r]&&!match(t[r],n[r],e))return!1;return!0}},"boolean"!=typeof e?e=!1:o=1,n(arguments,o,match)},o.common=function(t){var e=t,o=0,r={},i=function(t,n){for(var o in t)!n.hasOwnProperty(o)||e&&t[o]!=n[o]||(r[o]=t[o])};return"boolean"!=typeof t?e=!1:o=1,n(arguments,o,i),r},o.extend=function(t){var n=t,o=0;return"boolean"!=typeof n?n=!1:o=1,e(n,!1,o,arguments)},o.mixin=function(t){var n=t,o=0;return"boolean"!=typeof n?n=!1:o=1,e(n,!0,o,arguments)},o.filter=function(t,e){if("function"==typeof t.filter)return t.filter(e);for(var n,o=a$.mimic(t),r=Object.keys(t),i=0,f=r.length;i<f;++i)n=r[i],e(n,t)&&(o[n]=t[n]);return o},o.each=function(t,e){if(null==t);else if("function"==typeof t.forEach)t.forEach(e);else for(var n,o=Object.keys(t),r=0,i=o.length;r<i;++r)n=o[r],e(t[n],n,t)},o.weight=function(t){return"object"!=typeof t?1:t.hasOwnProperty("length")&&"number"==typeof t.length?t.length:Object.keys(t).length},o.name=function(t){if("function"!=typeof t)return skill.toString();if(void 0!==t.name)return t.name;var e=t.toString().match(/function ([^\(]+)/);return null!=e?e[1]:""},o.mimic=function(t){var e=Object.create(Object.getPrototypeOf(t));return t.constructor.apply(e,Array.prototype.slice(arguments,1))||e},o.act=function(t,e){if(null!=t&&"function"==typeof e)return e.apply(t,Array.prototype.slice.call(arguments,2))},o.broadcast=function(t,e){var n=Array.prototype.slice.call(arguments,2);return o.each(t.__skills,function(o){"function"==typeof o.prototype[e]&&o.prototype[e].apply(t,n)}),t},o.can=function(t,e){return"object"==typeof t&&null!=t[e]&&"function"==typeof t[e]},o.aware=function(t,e){return"object"==typeof t&&void 0!==t[e]},o.capable=function(t,e){var n,r,i=e,f=Object.getPrototypeOf(t),c=1;"boolean"!=typeof i?i=!0:c=2;for(var p=0,u=c,a=arguments.length;c<a;++c)n=arguments[c],t instanceof n?++p:(r=o.weight(n.prototype),r>0&&o.weight(o.common(!0,f,n.prototype))==r&&++p);return p>0&&(!i||arguments.length-u==p)},o.group=function(t,n,o){"boolean"!=typeof n&&(o=n,n=!1);var r,i=this.mimic(t),f={};for(var c in t){var r=t[c];o.call(r,r,c,t)&&(n&&e(!1,!1,0,[f,Object.getPrototypeOf(r)]),i.push(r))}if(n){for(var p,u=Object.keys(f),a={},l=0,y=u.length;l<y;++l)p=u[l],a[p]={enumerable:!1,writable:!1,value:"function"!=typeof f[p]?f[p]:function(t){return function(){var e=void 0;for(var n in this){var o=this[n];"function"==typeof o[t]&&(e=o[t].apply(o,arguments))}return e}}(p)};Object.defineProperties(i,a)}return i},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=o:(this.asSys=this.a$=o,"function"==typeof define&&define.amd&&define(o))}();
