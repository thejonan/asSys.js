!function(){var r=function(r){for(var t,n,e={},o=Array.prototype.slice.call(arguments,1),i=0,f=o.length;i<f;++i){t=o[i];for(n in t)t.hasOwnProperty(n)&&(e[n]=!r||t[n])}return e},t=function(r,n,e){if(!r&&!n&&"function"==typeof Object.assign){for(;null==e[0];)Array.isArray(e)?e.shift():e=Array.prototype.slice.call(e,1);return Object.assign.apply(Object,e)}for(var o,i,f,l=e[0],a=1,u=e.length;a<u;++a)if(i=e[a],null!=l)for(f in i)i.hasOwnProperty(f)&&(n&&l.hasOwnProperty(f)||(r&&"object"==typeof i[f]?(o="object"==typeof l[f]?l[f]:{},l[f]=t(r,n,[o,i[f]])):l[f]=i[f]));else l=i;return l},n=function(r,t){for(var n,e,o=0,i=r.length;o<i;++o)for(n=r[o],e=o+1;e<i;++e)if(!t(n,r[e]))return!1;return!0},e=function(r){if("function"!=typeof r)return null;if(void 0!==r.name)return r.name;var t=r.toString().match(/function ([^\(]+)/);return null!=t?t[1]:""},o=function(r,t){return t&&"function"==typeof t[r]},i=function(){for(var r,n,o=null,i={},f=[],l=!1,a=Array.prototype.slice.call(arguments,0),u=0;u<a.length;++u)if(n=a[u],"function"==typeof n){if(l||1!==f.length||(f=f[0]),l=!0,null!=n.__expects){r=[u,0];for(var c,p=0,y=n.__expects.length;p<y;++p)c=n.__expects[p],void 0!==i[c]&&r.push(c);if(r.length>2){Array.prototype.splice.apply(a,r),--u;continue}}o=t(!1,!0,[o,new n(f)]),i[e(n)]=!0}else l&&(f=[],l=!1),f.push(n);return null!=o&&(o.__skills=i),o};i.version="0.0.0",i.equal=function(t){var e=t,o=arguments;return"boolean"!=typeof e?e=!1:o=Array.prototype.slice.call(arguments,1),n(o,function(t,n){for(var o in r(!1,t,n)){if(e&&"object"==typeof t[o]&&"object"==typeof n[o]&&!i.equal(e,t[o],n[o]))return!1;if(t[o]!==n[o])return!1}return!0})},i.similar=function(r){var t=r,e=arguments;return"boolean"!=typeof t?t=!1:e=Array.prototype.slice.call(arguments,1),n(e,function(r,n){for(var e in r){if(t&&"object"==typeof r[e]&&"object"==typeof n[e]&&!i.similar(t,r[e],n[e]))return!1;if(void 0!==n[e]&&r[e]!==n[e])return!1}return!0})},i.extend=function(r){var n=r,e=arguments;return"boolean"!=typeof n?n=!1:e=Array.prototype.slice.call(arguments,1),t(n,!1,e)},i.enhance=function(r){var n=r,e=arguments;return"boolean"!=typeof n?n=!1:e=Array.prototype.slice.call(arguments,1),t(n,!0,e)},i.filter=function(r,t){if("function"==typeof r.filter)return r.filter(t);var n={};for(var e in r)t(e,r)&&(n[e]=r[e]);return n},i.each=function(r,t){if("function"==typeof r.forEach)r.forEach(t);else for(var n in r)r.hasOwnProperty(n)&&t(r[n],n,r)},i.weight=function(r){if(r.hasOwnProperty("length")&&"number"==typeof r.length)return r.length;var t=0;for(var n in r)r.hasOwnProperty(n)&&++t;return t},i.id=function(r){return e(r)},i.mimic=function(r){var n={};return t(!1,!0,n,i.filter(r,o)),n},i.act=function(r,t,n){var e=Array.prototype.slice.call(arguments,3);return t.prototype[n].apply(r,e)},i.can=function(r,t){return"object"==typeof r&&null!=r[t]&&"function"==typeof r[t]},i.aware=function(r,t){return"object"==typeof r&&void 0!==r[t]},i.capable=function(t,n){var o,i=n;if("boolean"!=typeof i?(i=!1,o=Array.prototype.slice.call(arguments,0)):o=Array.prototype.slice.call(arguments,1),void 0!==t.__skills){for(var f=0,l=0,a=o.length;l<a;++l)t.__skills[e(o[l])]&&++f;return i?f==o.length:f>0}var u=r.apply(void 0,o.map(function(r,t){return!(t>0)||r.prototype})),f=0,c=0;for(var p in u)t[p]===u[p]&&++f,++c;return i?c==f:f>0},i.group=function(n,e,f){"boolean"!=typeof n&&(f=e,e=n,n=!1);var l,a=this.mimic(e),u={};for(var c in e){var l=e[c];f.call(l,l,c,e)&&(n&&t(!1,!0,[u,r(!0,i.filter(l,o))]),a.push(l))}if(n)for(var p in u)"function"==typeof u[p]&&(a[p]=function(r){return function(){for(var t in this){var n=this[t];"function"==typeof n[r]&&n[r].apply(n,arguments)}}}(p));return a},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(this.asLib=this.$$=i,"function"==typeof define&&define.amd&&define(i))}();